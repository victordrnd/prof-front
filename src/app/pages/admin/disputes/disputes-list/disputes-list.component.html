<h3 class="text-center mt-3">Listes des Litiges</h3>
<div class="container-lg" *ngIf="disputes">
    <nz-table [nzData]="disputes?.data" [nzLoading]="loading" [nzShowPagination]="true" [nzFrontPagination]="false"
        [nzPageIndex]="disputes?.current_page" [nzPageSize]="disputes?.per_page" [nzTotal]="disputes?.total"
        (nzPageIndexChange)="onPageIndexChange($event)" class="mt-3">
        <thead>
            <tr>
                <th></th>
                <th>From</th>
                <th>Title</th>
                <th>Lesson</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let dispute of disputes.data" class="pointer" (click)="openDispute(dispute.id)">
                <td>
                    <nz-avatar class="d-block mx-auto" nzIcon="user" [nzSrc]="dispute.user.image"></nz-avatar>
                </td>
                <td>{{dispute.user.lastname }} {{dispute.user.firstname}}</td>
                <td>{{dispute.title}}</td>
                <td>{{dispute.lesson.scheduled_at | date:'medium'}}</td>
                <td>
                    <nb-tag *ngIf="dispute.status.code == 'open'" size="small" status="primary" appearance="filled"
                        text="{{dispute.status.code}}"></nb-tag>
                    <nb-tag *ngIf="dispute.status.code == 'closed'" size="small" status="danger" appearance="filled"
                        text="{{dispute.status.code}}"></nb-tag>
                </td>
            </tr>
        </tbody>
    </nz-table>
</div>